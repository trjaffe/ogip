#! /usr/bin/env python 

#
# Note that the -W is required in order to avoid python's warnings
# module from supressing repeated messages, which we would actually
# want to see from possibly the same wrong keywords in different files
# or exensions...
#

from ogip_check_dir import ogip_check_dir

if __name__== "__main__":
    import os
    import argparse
    import sys
    parser = argparse.ArgumentParser()
    parser.add_argument("basedir", type=str, help="Input base directory to test")
    parser.add_argument("logdir", type=str, help="Output directory to write logs to, one per tested file")
    parser.add_argument("-v", "--verbosity", type=int, default=2)
    parser.add_argument("--meta_key",type=str,help="Key that defines meta data such as what to ignore for each, e.g., mission.  By default, only a set of suffixes:  .jpg,.txt,.gif,.dat,.ps,.html,.par,.png,.pdf,.htm (or with .gz).  Alternatively, specify, e.g., 'rxte', ",default="default")
    parser.add_argument("--default_type",type=str,help="Default type to check for unrecognized files;  default 'none'.",default='none')
    args = parser.parse_args()

    status=ogip_check_dir(args.basedir,args.logdir,args.meta_key,args.default_type,args.verbosity)
    exit(status)
